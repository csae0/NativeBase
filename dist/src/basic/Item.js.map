{"version":3,"sources":["../../../src/basic/Item.js"],"names":["Item","props","state","isFocused","text","topAnim","Animated","Value","opacAnim","floatingLabel","inputProps","value","defaultValue","placeholder","effect","setState","floatUp","getRef","_inputRef","nextProps","childrenArray","React","Children","toArray","children","item","type","displayName","floatBack","roundedInputGroup","borderWidth","rounded","variables","undefined","borderRadius","inputGroupRoundedBorderRadius","e","timing","toValue","duration","useNativeDriver","start","defaultProps","style","getInitialStyle","newChildren","label","labelProps","Label","Input","icon","iconProps","Icon","image","Thumbnail","length","flag","isIcon","i","name","push","position","left","last","right","top","opacity","paddingTop","Platform","OS","paddingBottom","renderLabel","c","onFocus","onBlur","onChangeText","isImage","marginRight","stackedLabel","flexDirection","flex","width","deviceWidth","newLabel","labelStyle","StyleSheet","flatten","fontSize","lineHeight","createElement","key","float","_root","prepareRootProps","renderChildren","Component","propTypes","TouchableOpacity","PropTypes","oneOfType","object","number","array","inlineLabel","bool","fixedLabel","success","error","StyledItem","mapPropsToStyleNames"],"mappings":"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","file":"Item.js","sourcesContent":["/* eslint-disable no-plusplus */\n/* eslint-disable no-loop-func */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TouchableOpacity,\n  Animated,\n  Platform,\n  View,\n  StyleSheet\n} from 'react-native';\nimport { remove } from 'lodash';\nimport { connectStyle } from 'native-base-shoutem-theme';\n\nimport variables from '../theme/variables/platform';\nimport computeProps from '../utils/computeProps';\nimport mapPropsToStyleNames from '../utils/mapPropsToStyleNames';\n\nimport { Input } from './Input';\nimport { Label } from './Label';\nimport { Icon } from './Icon';\nimport { Thumbnail } from './Thumbnail';\n\nclass Item extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFocused: false,\n      text: '',\n      topAnim: new Animated.Value(18),\n      opacAnim: new Animated.Value(1)\n    };\n  }\n  componentDidMount() {\n    if (this.props.floatingLabel) {\n      if (\n        (this.inputProps && this.inputProps.value) ||\n        this.inputProps.defaultValue ||\n        this.props.placeholder\n      ) {\n        const effect = () => {\n          this.setState({ isFocused: true });\n        };\n        this.floatUp(-16);\n        effect();\n      }\n      if (this.inputProps && this.inputProps.getRef)\n        this.inputProps.getRef(this._inputRef);\n    }\n  }\n\n  // Temporary fix to avoid the crash.\n  // To be refactored to getDerivedStateFromProps.\n\n  // eslint-disable-next-line camelcase\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const childrenArray = React.Children.toArray(nextProps.children);\n\n    remove(childrenArray, item => {\n      if (item.type.displayName === 'Styled(Input)') {\n        this.inputProps = item.props;\n        return item;\n      }\n      return null;\n    });\n    if (this.props.floatingLabel) {\n      if (this.inputProps && this.inputProps.value) {\n        this.setState({ isFocused: true });\n        this.floatUp(-16);\n      } else if (!this.props.placeholder) {\n        this.floatBack();\n      }\n      if (this.inputProps && this.inputProps.getRef)\n        this.inputProps.getRef(this._inputRef);\n    }\n  }\n\n  getInitialStyle() {\n    return {\n      roundedInputGroup: {\n        borderWidth: this.props.rounded ? variables.borderWidth * 2 : undefined,\n        borderRadius: this.props.rounded\n          ? variables.inputGroupRoundedBorderRadius\n          : undefined\n      }\n    };\n  }\n\n  floatBack(e) {\n    Animated.timing(this.state.topAnim, {\n      toValue: e || 18,\n      duration: 150,\n      useNativeDriver: false\n    }).start();\n    Animated.timing(this.state.opacAnim, {\n      toValue: 1,\n      duration: 150,\n      useNativeDriver: false\n    }).start();\n  }\n\n  floatUp(e) {\n    Animated.timing(this.state.topAnim, {\n      toValue: e || -22,\n      duration: 150,\n      useNativeDriver: false\n    }).start();\n    Animated.timing(this.state.opacAnim, {\n      toValue: 0.7,\n      duration: 150,\n      useNativeDriver: false\n    }).start();\n  }\n\n  prepareRootProps() {\n    const defaultProps = {\n      style: this.getInitialStyle().roundedInputGroup\n    };\n\n    return computeProps(this.props, defaultProps);\n  }\n\n  renderChildren() {\n    const newChildren = [];\n    const childrenArray = React.Children.toArray(this.props.children);\n\n    let label = [];\n    let labelProps = {};\n    label = remove(childrenArray, item => {\n      if (item.type === Label) {\n        labelProps = item.props;\n        return item;\n      }\n      return null;\n    });\n\n    let inputProps = {};\n    remove(childrenArray, item => {\n      if (item.type === Input) {\n        inputProps = item.props;\n        this.inputProps = item.props;\n        return item;\n      }\n      return null;\n    });\n\n    let icon = [];\n    let iconProps = {};\n    icon = remove(childrenArray, item => {\n      if (item.type === Icon) {\n        iconProps = item.props;\n        return item;\n      }\n      return null;\n    });\n\n    let image = [];\n    image = remove(childrenArray, item => {\n      if (item.type === Thumbnail) {\n        return item;\n      }\n      return null;\n    });\n\n    if (this.props.floatingLabel && icon.length) {\n      let flag = true;\n      let isIcon = false;\n\n      for (let i = 0; i < this.props.children.length; i++) {\n        if (\n          this.props.children[i].props.name &&\n          this.props.children[i].type.displayName !== 'Styled(Input)'\n        ) {\n          isIcon = true;\n          newChildren.push(<Icon key={i} {...this.props.children[i].props} />);\n        }\n\n        if (\n          (this.props.children[i].props.children ||\n            this.props.children[i].props.placeholder) &&\n          flag\n        ) {\n          flag = false;\n\n          newChildren.push(\n            <Animated.View\n              key=\"float\"\n              style={{\n                position: 'absolute',\n                left:\n                  this.props.last && isIcon\n                    ? 40\n                    : this.props.last\n                    ? 15\n                    : isIcon\n                    ? 26\n                    : 0,\n                right: 0,\n                top: this.state.topAnim,\n                opacity: this.state.opacAnim,\n                paddingTop: Platform.OS === 'ios' ? undefined : undefined,\n                paddingBottom: Platform.OS === 'ios' ? undefined : 12\n              }}\n            >\n              <Label {...labelProps}>\n                {this.renderLabel(label, labelProps)}\n              </Label>\n            </Animated.View>\n          );\n\n          newChildren.push(\n            <Input\n              ref={c => (this._inputRef = c)}\n              key=\"l2\"\n              {...inputProps}\n              placeholder={(inputProps && inputProps.placeholder) || undefined}\n              onFocus={() => {\n                this.setState({ isFocused: true });\n                if (inputProps.onFocus) {\n                  inputProps.onFocus();\n                }\n              }}\n              onBlur={e => {\n                if (inputProps.value || this.props.placeholder) {\n                  this.setState({ isFocused: true });\n                } else if (!this.state.text.length) {\n                  this.setState({ isFocused: false });\n                }\n\n                if (inputProps.onBlur) {\n                  inputProps.onBlur(e);\n                }\n              }}\n              onChangeText={text => {\n                this.setState({ text });\n                if (inputProps.onChangeText) {\n                  inputProps.onChangeText(text);\n                }\n              }}\n            />\n          );\n        }\n      }\n    } else if (this.props.floatingLabel && image.length) {\n      let isImage = false;\n      for (let i = 0; i < this.props.children.length; i++) {\n        if (this.props.children[i].type.displayName === 'Styled(Thumbnail)') {\n          isImage = true;\n\n          newChildren.push(\n            <Thumbnail\n              small\n              key={[i]}\n              {...this.props.children[i].props}\n              style={{\n                right: 10,\n                left: i === this.props.children.length - 1 ? undefined : 0\n              }}\n            />\n          );\n        }\n\n        if (this.props.children[i].props.children) {\n          newChildren.push(\n            <Animated.View\n              key=\"float\"\n              style={{\n                position: 'absolute',\n                left:\n                  this.props.last && isImage\n                    ? 57\n                    : this.props.last\n                    ? 15\n                    : isImage\n                    ? 42\n                    : 0,\n                right: 0,\n                top: this.state.topAnim,\n                opacity: this.state.opacAnim,\n                paddingTop: Platform.OS === 'ios' ? undefined : undefined,\n                paddingBottom: Platform.OS === 'ios' ? undefined : 12\n              }}\n            >\n              <Label {...labelProps}>\n                {this.renderLabel(label, labelProps)}\n              </Label>\n            </Animated.View>\n          );\n\n          newChildren.push(\n            <Input\n              ref={c => (this._inputRef = c)}\n              key=\"l2\"\n              {...inputProps}\n              placeholder={(inputProps && inputProps.placeholder) || undefined}\n              onFocus={() => {\n                this.setState({ isFocused: true });\n                inputProps.onFocus && inputProps.onFocus();\n              }}\n              onBlur={e => {\n                inputProps.value\n                  ? this.setState({ isFocused: true })\n                  : !this.state.text.length &&\n                    this.setState({ isFocused: false });\n                inputProps.onBlur && inputProps.onBlur(e);\n              }}\n              onChangeText={text => {\n                this.setState({ text });\n                inputProps.onChangeText && inputProps.onChangeText(text);\n              }}\n              style={{\n                left:\n                  this.props.last && isImage\n                    ? 10\n                    : this.props.last\n                    ? 4\n                    : isImage\n                    ? 10\n                    : 0,\n                marginRight: 12\n              }}\n            />\n          );\n        }\n      }\n    } else if (this.props.floatingLabel) {\n      newChildren.push(\n        <Animated.View\n          key=\"float\"\n          style={{\n            position: 'absolute',\n            left: this.props.last ? 15 : 0,\n            right: 0,\n            top: this.state.topAnim,\n            opacity: this.state.opacAnim,\n            paddingTop: Platform.OS === 'ios' ? undefined : undefined,\n            paddingBottom: Platform.OS === 'ios' ? undefined : 12\n          }}\n        >\n          <Label {...labelProps}>{this.renderLabel(label, labelProps)}</Label>\n        </Animated.View>\n      );\n\n      newChildren.push(\n        <Input\n          ref={c => (this._inputRef = c)}\n          // value={this.state.text}\n          key=\"l2\"\n          {...inputProps}\n          placeholder={(inputProps && inputProps.placeholder) || undefined}\n          onFocus={() => {\n            this.setState({ isFocused: true });\n            inputProps.onFocus && inputProps.onFocus();\n          }}\n          onBlur={e => {\n            inputProps.value || this.props.placeholder\n              ? this.setState({ isFocused: true })\n              : !this.state.text.length && this.setState({ isFocused: false });\n            inputProps.onBlur && inputProps.onBlur(e);\n          }}\n          onChangeText={text => {\n            this.setState({ text });\n            inputProps.onChangeText && inputProps.onChangeText(text);\n          }}\n        />\n      );\n    } else if (this.props.stackedLabel && icon.length) {\n      newChildren.push(\n        <View\n          key=\"s\"\n          style={{\n            flexDirection: 'row',\n            flex: 1,\n            width: variables.deviceWidth - 15\n          }}\n        >\n          <Icon key=\"s1\" {...iconProps} />\n          <View style={{ flexDirection: 'column' }}>\n            <Label key=\"s2\" {...labelProps} />\n            <Input\n              key=\"s3\"\n              {...inputProps}\n              style={{ width: variables.deviceWidth - 40 }}\n            />\n          </View>\n        </View>\n      );\n    } else {\n      return this.props.children;\n    }\n    return newChildren;\n  }\n\n  renderLabel(label, labelProps) {\n    const newLabel = [];\n    const labelStyle = StyleSheet.flatten([\n      { fontSize: 15, lineHeight: 30 },\n      labelProps.style\n    ]);\n    if (this.props.floatingLabel) {\n      if (this.state.isFocused) {\n        newLabel.push(\n          React.createElement(Label, {\n            ...labelProps,\n            key: 'newFLabel',\n            float: true,\n            style: labelStyle\n          })\n        );\n        this.floatUp(-16);\n      } else {\n        newLabel.push(label);\n        this.floatBack(labelProps.floatBack);\n      }\n    } else {\n      newLabel.push(\n        React.createElement(Label, {\n          ...labelProps,\n          key: 'newLabel'\n        })\n      );\n    }\n    return newLabel;\n  }\n\n  render() {\n    return (\n      <TouchableOpacity\n        ref={c => (this._root = c)}\n        {...this.prepareRootProps()}\n        activeOpacity={1}\n      >\n        {this.renderChildren()}\n      </TouchableOpacity>\n    );\n  }\n}\n\nItem.propTypes = {\n  ...TouchableOpacity.propTypes,\n  style: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.number,\n    PropTypes.array\n  ]),\n  inlineLabel: PropTypes.bool,\n  floatingLabel: PropTypes.bool,\n  stackedLabel: PropTypes.bool,\n  fixedLabel: PropTypes.bool,\n  success: PropTypes.bool,\n  error: PropTypes.bool\n};\n\nconst StyledItem = connectStyle(\n  'NativeBase.Item',\n  {},\n  mapPropsToStyleNames\n)(Item);\n\nexport { StyledItem as Item };\n"]}